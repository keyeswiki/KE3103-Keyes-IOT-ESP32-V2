# 5. ESP32智能家居组装步骤

<span style="color: rgb(255, 76, 65);">**注意：**</span>这个套件的亚克力板使用时需要先撕去上面的保护膜。

![](media/A00.png)


## 步骤 1: 安装LCD1602模块、PFID-RC522刷卡模块、人体红外热释电传感器和2个按键模块

1.1 

所需零件

![](media/A1.png)

1.2

![](media/A1-1.jpg)

1.3

![](media/A1-2.jpg)

1.4 传感器模块上安装好线材

⚠️ **<span style="color: rgb(255, 76, 65);">特别提醒：</span>** 接线时，请注意区分线材颜色，端口正反面，请勿反插，否则会损坏端口。

![](media/A1-3.jpg)

⚠️ **<span style="color: rgb(255, 76, 65);">特别提醒：</span>** 接线时，请注意区分线材颜色；PFID-RC522刷卡模块的G引脚接黑线，V引脚接红线，SDA引脚接蓝线，SCL引脚接绿线；LCD1602模块的GND引脚接黑线，VCC引脚接红线，SDA引脚接白线，SCL引脚接棕线。

![](media/A1-4.jpg)

## 步骤 2: 安装水滴传感器、XHT11温湿度传感器、黄色LED模块和130电机(风扇)模块

2.1

所需零件

![](media/A2.png)

2.2

![](media/A2-1.png)

2.3

![](media/A2-2.jpg)

2.4 传感器模块上安装好线材

⚠️ **<span style="color: rgb(255, 76, 65);">特别提醒：</span>** 接线时，请注意区分线材颜色，端口正反面，请勿反插，否则会损坏端口。

![](media/A2-3.jpg)

## 步骤 3: 安装模拟气体(MQ2)传感器、无源蜂鸣器和电池盒

3.1

所需零件

![](media/A3.png)

3.2

（⚠️ **<span style="color: rgb(255, 76, 65);">特别注意：电池盒线材朝下安装</span>**）

![](media/A3-1.jpg)

3.3

![](media/A3-2.jpg)

3.4 传感器模块上安装好线材

⚠️ **<span style="color: rgb(255, 76, 65);">特别提醒：</span>** 接线时，请注意区分线材颜色，端口正反面，请勿反插，否则会损坏端口。

![](media/A3-3.jpg)

## 步骤 4: 安装SK6812RGB模块

4.1

所需零件

![](media/A4.png)

4.2

![](media/A4-1.png)

4.3

![](media/A4-2.png)

4.4 传感器模块上安装好线材

⚠️ **<span style="color: rgb(255, 76, 65);">特别提醒：</span>** 接线时，请注意区分线材颜色，端口正反面，请勿反插，否则会损坏端口。

![](media/A4-3.jpg)

## 步骤 5: 安装窗户上的舵机和亚克力板

5.1

所需零件

![](media/A5.png)

**亚克力板单独包装，建议将其保护膜撕下，以减少作为窗户移动时的摩擦**。

![](media/ZnNc_27-1.png)

5.2

![](media/A5-1.png)

5.3

![](media/A5-2.png)

5.4

（⚠️ **<span style="color: rgb(255, 76, 65);">特别注意：自锁螺母不可拧紧</span>**）

![](media/A6-1.png)

5.5

![](media/A6-2.png)

5.6

**调节舵机角度**

⚠️ **特别注意：此步骤需要进行舵机角度的校准，初始角度为0°，按图示操作**。

![](media/D1.png)

⚠️ **特别提醒：** 这里需要使用到2根公对母杜邦线将舵机控制模块的G引脚和5V引脚分别连接到ESP32主控板上的GND引脚和5V引脚，舵机的橙黄线、红线和棕线分别连接到舵机控制模块的S引脚、V引脚和G引脚。如下图所示：

![](media/D2.png)

![](media/D3.png)

**按图示完成舵机初始角度的校准后，请将所接线拆除，无需保留**。

5.7

![](media/ABC1.png)

⚠️ <span style="color: rgb(255, 76, 65);">**若使用 M1.4×6 自攻螺丝时，如下图所示**</span>

![](media/100.png)

5.8

![](media/ABC2.png)

5.9

⚠️ **<span style="color: rgb(255, 76, 65);">特别注意：</span>需按照下图姿态安装齿轮**

![](media/ABC3.png)

**检查：**

(1) 亚克力板与舵机的齿轮结构是否有良好的接触和受力点。

(2) 舵机的齿轮结构上的固定螺钉的尖端是否卡在舵机的塑料外壳上。如果是，请将固定螺钉稍微松开，以免其尖端接触舵机。

![](media/ZnNc_35-1.png)

5.8

![](media/99_3.jpg)

## 步骤 6: 安装ESP32主控板

6.1

所需零件

![](media/A8.png)

6.2

![](media/A8-1.png)

6.3

![](media/A8-2.png)

## 步骤 7: 安装控制门的舵机

7.1

所需零件

![](media/A9.png)

7.2

![](media/A9-1.png)

7.3

![](media/A9-2.png)

7.4

![](media/ABC4.png)

7.5

![](media/ABC5.png)

7.6

![](media/ABC6.png)

7.7

![](media/A10-2.png)

## 步骤 8: 组装智能家居围墙、隔板、房顶、门和底板

**组装智能家居围墙和隔板**

8.1 

所需零件

![](media/A11.jpg)

8.2

![](media/A11-1.jpg)

8.3

![](media/A11-2.jpg)

8.4

所需零件

![](media/A12.jpg)

8.5

![](media/A12-1.jpg)

8.6

![](media/A12-2.jpg)

8.7

所需零件

![](media/A13.jpg)

8.8

![](media/A13-1.jpg)

8.9

![](media/A13-2.jpg)

8.10

所需零件

![](media/A14.jpg)

8.11

![](media/A14-1.jpg)

8.12

![](media/A14-2.jpg)

**组装智能家居房顶**

8.13

所需零件

![](media/A15.jpg)

8.14

![](media/A15-1.jpg)

8.15

![](media/A15-2.jpg)

8.16

所需零件

![](media/A16.jpg)

8.17

![](media/A16-1.jpg)

8.18

![](media/A16-2.jpg)

**组装智能家居的门和底板**

8.19

所需零件

![](media/A17.jpg)

8.20

![](media/A17-1.jpg)

8.21

![](media/A17-2.png)

8.22

所需零件

![](media/A18.jpg)

8.23

![](media/A18-1.jpg)

8.24

![](media/A18-2.jpg)

8.25

所需零件

![](media/A19.jpg)

8.26

![](media/A19-1.jpg)

8.27

![](media/A19-2.jpg)

## 步骤 9: 安装智能语音模块

9.1

所需零件

![](media/A19-3.jpg)

9.2

传感器模块上安装好线材

![](media/A19-4.jpg)

9.3

撕掉双面胶上的一张薄膜，将双面胶粘贴到智能语音模块上。

![](media/A19-5.jpg)

9.4

撕掉双面胶上的另一张薄膜，将智能语音模块粘贴到智能家居房子上。

![](media/A19-6.jpg)

![](media/A19-7.jpg)

9.5

将线材另一端伸入智能家居房子内。

![](media/A19-8.jpg)

![](media/A19-9.jpg)

## 步骤 10: 智能家居接线部分

### 10.1 分配线材

**请按照下方顺序进行接线，接线材时，请注意区分线材的颜色**。

| 编号 |        元器件           |          线材     |  ESP32主板上的控制引脚    |
| :--: | :---------------------: | :---------------: | :------------------------: |
|  1   |     130电机(风扇) 模块    |   4P--(黑红白棕)  | io19 (IN+) \| io18 (IN-) |
|  2   |   模拟气体(MQ-2)传感器    |   4P--(黑红白棕)   |            io23 (D)     |
|  3   |         窗户舵机         |                   |            io5 (S)       |
|  4   |          门舵机          |                   |            io13 (S)      |
|  5   |        黄色LED模块       |   3P--(黑红黄)     |            io12 (S)      |
|  6   |   人体红外热释电传感器    |   3P--(黑红黄)     |            io14 (S)      |
|  7   |       智能语音模块       |   4P--(黑红白棕)   |  io16(TX) \| io27(RX)     |
|  8   |    XHT11温湿度传感器     |   3P--(黑红黄)     |            io17 (S)       |
|  9   |        无源蜂鸣器        |   3P--(黑红黄)     |            io25 (S)       |
|  10  |       SK6812RGB模块     |    3P--(黑红黄)    |            io26 (S)       |
|  11  |  RFID-MFRC522刷卡模块   |    4P--(黑红蓝绿)   | I2C(SDA(SDA) \| SCL(SCL)) |
|  12  |       LCD1602模块       |    4P--(黑红白棕)   | I2C(SDA(SDA) \| SCL(SCL)) |
|  13  |        水滴传感器        |    3P--(黑红黄)     |            io34 (S)      |
|  14  | 木板房子⑨处(右侧)按键模块 |    3P--(黑红黄)     |            io32 (S)       |
|  15  | 木板房子⑦处(左侧)按键模块 |    3P--(黑红黄)     |             io4 (S)       |

### 10.2 电机模块(风扇)接线

**按图示将线材接到ESP32主控板的 io19 (IN+) \| io18 (IN-)**。

|     模块    |            线材           |   ESP32主控板上的控制引脚     |
| :----------: | :---------------------: | :----------------------: |
| 电机模块(风扇)|    4P--(**黑红白棕**)   |  io19 (IN+) \| io18 (IN-)  |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，IN+通过白线接io19，IN-通过棕线接io18**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| IN+ | 白线 | io19 |
| IN- | 棕线 | io18 |

![](media/A20.jpg)

### 10.3 模拟气体(MQ2)传感器接线

**按图示将线材接到ESP32主控板的 io23**。

|     模块          |            线材          |  ESP32主控板上的控制引脚  |
| :---------------: | :---------------------: | :----------------------: |
|模拟气体(MQ2)传感器 |   4P--(**黑红白棕**)     |            io23         |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，D通过白线接io23，A不接 (⚠️ <span style="color: rgb(255, 76, 65);">特别提醒：</span>由于A引脚未使用到，A引脚对应的棕线不需要接到ESP32主控板上)**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| D | 白线 | io23 |

![](media/A21.jpg)

### 10.4 窗户舵机接线

**按图示将线材接到ESP32主控板的 io5**。

|     模块      |            线材          | ESP32主控板上的控制引脚  |
| :-----------: | :---------------------: | :----------------------: |
|    窗户舵机   |                          |             io5        |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；棕线接G，红线接V，橙黄线接io5**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| 棕线 |      |  G   |
| 红线 |      |  V   |
| 橙黄线 |      | io5  |

![](media/A22.jpg)

### 10.5 门舵机接线

**按图示将线材接到ESP32主控板的 io13**。

|     模块      |            线材          |   ESP32主控板上的控制引脚  |
| :-----------: | :---------------------: | :----------------------: |
|     门舵机    |                         |             io13        |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；棕线接G，红线接V，橙黄线接io13**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| 棕线 |      |  G   |
| 红线 |      |  V   |
| 橙黄线 |      | io13 |

![](media/A23.jpg)

### 10.6 黄色LED模块接线

**按图示将线材接到ESP32主控板的 io12**。

|     模块      |            线材          |  ESP32主控板上的控制引脚   |
| :-----------: | :---------------------: | :----------------------: |
|   黄色LED模块  |     3P--(**黑红黄**)    |             io12         |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，S通过黄线接io12**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| S | 黄线 | io12 |

![](media/A24.jpg)

### 10.7 人体红外热释电传感器接线

**按图示将线材接到ESP32主控板的 io14**。

|       模块       |            线材          |  ESP32主控板上的控制引脚  |
| :--------------: | :---------------------: | :----------------------: |
| 人体红外热释电传感器  |     3P--(**黑红黄**)    |             io14         |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，S通过黄线接io14**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| S | 黄线 | io14 |

![](media/A25.jpg)

### 10.8 智能语音模块接线

**按图示将线材接到ESP32主控板的 io16(TX) \| io27(RX)**。

|     模块    |            线材           |       ESP32主控板引脚     |
| :----------: | :---------------------: | :----------------------: |
| 电机模块(风扇)|    4P--(**黑红白棕**)   |  io16(TX) \| io27(RX)   |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，TX通过白线接io16，RX通过棕线接io27**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| TX | 白线 | io16 |
| RX | 棕线 | io27 |

![](media/A26.jpg)

### 10.9 XHT11温湿度传感器接线

**按图示将线材接到ESP32主控板的 io17**。

|       模块       |            线材          |  ESP32主控板上的控制引脚  |
| :--------------: | :---------------------: | :----------------------: |
| XHT11温湿度传感器 |     3P--(**黑红黄**)    |             io17         |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，S通过黄线接io17**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| S | 黄线 | io17 |

![](media/A27.jpg)

### 10.10 无源蜂鸣器接线

**按图示将线材接到ESP32主控板的 io25**。

|       模块       |            线材          |  ESP32主控板上的控制引脚  |
| :--------------: | :---------------------: | :----------------------: |
|     无源蜂鸣器    |     3P--(**黑红黄**)    |             io25         |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，S通过黄线接io25**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| S | 黄线 | io25 |

![](media/A28.jpg)

### 10.11 SK6812RGB模块接线

**按图示将线材接到ESP32主控板的 io26**。

|       模块       |            线材          |  ESP32主控板上的控制引脚  |
| :--------------: | :---------------------: | :----------------------: |
|  SK6812RGB模块   |     3P--(**黑红黄**)    |             io26        |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，S通过黄线接io26**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| S | 黄线 | io26 |

![](media/A29.jpg)

### 10.12 RFID-MFRC522刷卡模块接线

**按图示将线材接到ESP32主控板的 I2C(SDA(SDA) \| SCL(SCL))**。

|      模块         |            线材      |   ESP32主控板上的控制引脚   |
| :---------------: | :------------------: | :-----------------------: |
|RFID-MFRC522刷卡模块| 4P--(**黑红蓝绿**)   | I2C(SDA(SDA) \| SCL(SCL)) |

**接线时，请注意区分线材颜色；G通过黑线接G，V通过红线接V，SDA通过蓝线接SDA，SCL通过绿线接SCL**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| SDA | 蓝线 | SDA |
| SCL | 绿线 | SCL|

![](media/A30.jpg)

### 10.13 LCD1602模块接线

**按图示将线材接到ESP32主控板的 I2C(SDA(SDA) \| SCL(SCL))**。

|      模块       |            线材          |   ESP32主控板上的控制引脚  |
| :-------------: | :---------------------: | :-----------------------: |
|   LCD1602模块   |    4P--(**黑红白棕**)    | I2C(SDA(SDA) \| SCL(SCL)) |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，SDA通过白线接SDA，SCL接通过棕线接SCL**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| SDA | 白线 | SDA |
| SCL | 棕线 | SCL|

![](media/A31.jpg)

### 10.14 水滴传感器接线

**按图示将线材接到ESP32主控板的 io34**。

|       模块       |            线材          |  ESP32主控板上的控制引脚  |
| :--------------: | :---------------------: | :----------------------: |
|     水滴传感器    |     3P--(**黑红黄**)    |             io34        |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，S通过黄线接io34**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| S | 黄线 | io34 |

![](media/A32.jpg)

### 10.15 木板房子⑨处(右侧)按键模块接线

**按图示将线材接到ESP32主控板的 io32**。

|           模块          |         线材         |  ESP32主控板上的控制引脚 |
| :---------------------: | :------------------: | :--------------------: |
|木板房子⑨处(右侧)按键模块  |  3P--(**黑红黄**)    |             io32       |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，S通过黄线接io32**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| S | 黄线 |io32|

![](media/A33.jpg)

### 10.16 木板房子⑦处(左侧)按键模块接线

**按图示将线材接到ESP32主控板的 io4**。

|           模块          |            线材        |  ESP32主控板上的控制引脚  |
| :---------------------: | :-------------------: | :----------------------: |
|木板房子⑦处(左侧)按键模块  |    3P--(**黑红黄**)   |             io4          |

**接线时，请注意区分线材颜色，端口正反面，请勿反插，否则损坏端口；G通过黑线接G，V通过红线接V，S通过黄线接io4**。

| 模块 | 线材颜色 | ESP32主控板引脚 |
| :--: | :--: | :--: |
| G | 黑线 | G |
| V | 红线 | V |
| S | 黄线 |io4|

![](media/A34.jpg)


## 步骤 11: 安装木质 L 板

11.1

所需零件

![](media/A49.jpg)

11.2

![](media/A50.jpg)

11.3

![](media/A51.jpg)

11.4

![](media/A53.jpg)

11.5

![](media/AAB15.jpg)

## 步骤 12: 外电电源

12.1

电池盒中有弹簧的一端是负极( - )，则另一端是正极( + )。（**<span style="color: rgb(255, 76, 65);">6个5号电池自备</span>**）

![](media/AAB12.png)

12.2

安装好电池

![](media/AAB13.jpg)

12.3

插上电池盒插杆

![](media/AAB14.jpg)






