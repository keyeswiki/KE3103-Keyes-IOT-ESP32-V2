<xml version="Mixly 2.0 rc4" board="Arduino ESP32@ESP32 Dev Module"><block type="base_setup" id="2{8o7g`^}NYbX/y)YluP" x="9" y="-3"><statement name="DO"><block type="serial_begin" id="W29Pc#l5EqlN~8[b^YRQ"><field name="serial_select">Serial</field><value name="CONTENT"><shadow type="math_number" id="U3|T[?69-kT=p1QuL)~]"><field name="NUM">9600</field></shadow></value><next><block type="rc522_i2c_init" id="9|HOUMAz0gbusmVLUT:2"><next><block type="group_lcd_init2" id="B8!Tq=G0/_^(]jY[,(I!"><field name="TYPE">16,2</field><field name="VAR">mylcd</field><value name="device"><shadow type="math_number" id="zqKZu6`mFeZ`74B2p_jc"><field name="NUM">0x27</field></shadow></value><value name="SCL"><shadow type="pins_digital" id="hy#-msJOFhAI{f)E.`n$"><field name="PIN">22</field></shadow></value><value name="SDA"><shadow type="pins_digital" id="[E!z#uu*+z-0WB;8SZg}"><field name="PIN">21</field></shadow></value><next><block type="group_lcd_power" id="~MIuWb3D2~yOCM,VF5mi"><field name="VAR">mylcd</field><field name="STAT">display</field><next><block type="group_lcd_power" id="UB[~kgb9x;^$2Gy(:QU5"><field name="VAR">mylcd</field><field name="STAT">clear</field><next><block type="group_lcd_print" id="]B,O?yKh3,8@9R-T^hff"><field name="VAR">mylcd</field><value name="TEXT"><shadow type="text" id="skok!sQs=^gTV5/j)}xH"><field name="TEXT"></field></shadow><block type="text" id="/fzbr=T#DLcTshTDrq;,"><field name="TEXT">Card</field></block></value><value name="TEXT2"><shadow type="text" id="|Fb+?[vI}s1n,LxX8i(8"><field name="TEXT"></field></shadow></value><next><block type="ke_servo" id=":NRM;617|gpW[[4;9XIw"><value name="PIN"><shadow type="pins_digital" id="B{6!CI9us@Scro:#-Mt^"><field name="PIN">13</field></shadow></value><value name="angle"><shadow type="math_number" id="80,G@U.hg{;R}igL47es"><field name="NUM">0</field></shadow></value><value name="time"><shadow type="math_number" id="0k?iXcQ1i;*Zm63fqVRD"><field name="NUM">1000</field></shadow></value><next><block type="variables_declare" id="(:Z*xJ}/Z+[,=zp`LD:j"><field name="variables_type">global_variate</field><field name="VAR">btnflag</field><field name="TYPE">boolean</field><value name="VALUE"><block type="math_number" id="61UfJ*UcLJoS@kz:)U!e"><field name="NUM">0</field></block></value><next><block type="variables_declare" id=":eKdg!-_w)d|@wq+UN24"><field name="variables_type">global_variate</field><field name="VAR">btnVal</field><field name="TYPE">boolean</field><value name="VALUE"><block type="math_number" id="zukP4K)gn^:G#ntfBSB~"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="N@]O4[LXmJIhBCyMOEhw"><field name="variables_type">global_variate</field><field name="VAR">password</field><field name="TYPE">String</field><value name="VALUE"><block type="text" id="stzF8Cc[XF59jG:n$I.f"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="variables_set" id="_Hv9y_7[ENGp.Leb[3uN" x="9" y="494"><field name="VAR">password</field><value name="VALUE"><block type="rc522_i2c_read" id="{:o]UJdl*=e@it@^$[kY"></block></value><next><block type="serial_print" id="X1p~_Wd,|Ke?TqnYPhV$"><field name="serial_select">Serial</field><field name="new_line">print</field><value name="CONTENT"><block type="text" id="v!X,nDR5TS+V=gcPMM]c"><field name="TEXT"> Card UID:</field></block></value><next><block type="serial_print" id="b9)Em6FU@!(HI0xbeMN?"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="variables_get" id="-][P*gW@,?{-PHfnPj@_"><field name="VAR">password</field></block></value><next><block type="controls_delay" id="cyEbF5hYIQ~E=+i8zYGB"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="`KWi}BMNs;#o/IMp0uOS"><field name="NUM">1000</field></shadow></value><next><block type="controls_if" id="l3q,!-ms!.|WI7m`K2B["><value name="IF0"><block type="logic_compare" id="Lm3utz#/)RstTc4AXHP]"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="jxOK..z7RLD399|EXO/Q"><field name="VAR">btnflag</field></block></value><value name="B"><block type="math_number" id="T5bm1T2|_)(6Ih^MAW$n"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="jg8[#bZ*XTzV-Y|Jc{Aa"><field name="VAR">btnVal</field><value name="VALUE"><block type="ke_button" id="PzpQ{/ah:^rip-Q@Z]/*"><value name="PIN"><shadow type="pins_digital" id="Wd~PuOf!2d+8@/*Qs}gz"><field name="PIN">4</field></shadow></value></block></value><next><block type="controls_if" id="8gRrcUS7fv)/`z,LgV{7"><value name="IF0"><block type="logic_compare" id="8/SHYx6/b|=#.a(,4*0B"><field name="OP">EQ</field><value name="A"><block type="variables_get" id=";kRCu~[w}wc~{2878Q#K"><field name="VAR">btnVal</field></block></value><value name="B"><block type="math_number" id="6{*r`@/n-izL~#CIG-9U"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="group_lcd_power" id="z?NZ5x@F*JR-$iQc5NBW"><field name="VAR">mylcd</field><field name="STAT">clear</field><next><block type="group_lcd_print" id="+smM,;n:e_z;dDacC?4H"><field name="VAR">mylcd</field><value name="TEXT"><shadow type="text" id=":r-9B__?kmdmt97,V0At"><field name="TEXT"></field></shadow><block type="text" id="Kf0wYy@vR3$,{XPT^fw,"><field name="TEXT">close</field></block></value><value name="TEXT2"><shadow type="text" id="7OP|^93qP4zF+`6c-T@t"><field name="TEXT"></field></shadow></value><next><block type="ke_servo" id="nD5Mh(BjC2q}s1BCG30b"><value name="PIN"><shadow type="pins_digital" id="Sz~{ibjo(Zo6z9cktwhP"><field name="PIN">13</field></shadow></value><value name="angle"><shadow type="math_number" id="DKH.Tptk#P(0oraM](8P"><field name="NUM">0</field></shadow></value><value name="time"><shadow type="math_number" id="lts,}DxCbm=hftb-^to^"><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id="h#3Ic]=FY@HiarG1Capd"><field name="VAR">btnflag</field><value name="VALUE"><block type="math_number" id="2Qlv(_epN17xMGksCahe"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></statement></block></next></block></statement><next><block type="controls_if" id=":IYA=9d.+!{yDlr16uB`"><value name="IF0"><block type="logic_negate" id="uhd7-d~uA,V8w0oQD1}^"><value name="BOOL"><block type="logic_compare" id="YDY#Y6eH^]7f:cRSa]Me"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="UMxH~cCd=5`NI{n`NdVj"><field name="VAR">password</field></block></value><value name="B"><block type="text" id="ADpQ+Jn!v4T,h]Rql~1T"><field name="TEXT"></field></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="!-vKA2X`q]x2xUlYV4/e"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="8n/Pdw=CqT`BOt0c$}!@"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="b#OR@6-MQ7j~.$M:gH`w"><field name="VAR">password</field></block></value><value name="B"><block type="text" id="Oy]?@VH+ywz+d!fT~pD+"><field name="TEXT">d963d3b3</field></block></value></block></value><statement name="DO0"><block type="group_lcd_power" id="RB.6tShcn5nC=pw[:x+S"><field name="VAR">mylcd</field><field name="STAT">clear</field><next><block type="group_lcd_print" id="J]!MXq]h,mk.4Mmxn3A3"><field name="VAR">mylcd</field><value name="TEXT"><shadow type="text" id="nJWHOMF@:_H_xt*5CSZO"><field name="TEXT"></field></shadow><block type="text" id="M`sfmmmvM{UaL{p.KxAv"><field name="TEXT">open</field></block></value><value name="TEXT2"><shadow type="text" id="cgBBT[X(X1Pe,2EK!9tn"><field name="TEXT"></field></shadow></value><next><block type="ke_servo" id="mN4nK?SDYyEK;w3~#1FB"><value name="PIN"><shadow type="pins_digital" id=").L-/_:CV2g|R5dgXmWx"><field name="PIN">13</field></shadow></value><value name="angle"><shadow type="math_number" id="#jI_;nNiUUwep*f-IC+N"><field name="NUM">170</field></shadow></value><value name="time"><shadow type="math_number" id="^/jBNXs|Nfu#7!hwlP`="><field name="NUM">1000</field></shadow></value><next><block type="variables_set" id="kr(.{OYztY+;Q~nn;bk*"><field name="VAR">password</field><value name="VALUE"><block type="text" id="+lKuwAW8^]3A70Zc?wpd"><field name="TEXT"></field></block></value><next><block type="variables_set" id="4)h;:slVV7#cfg#HYqMQ"><field name="VAR">btnflag</field><value name="VALUE"><block type="math_number" id="R?x1FDb?1]-:A5eLX2Wu"><field name="NUM">1</field></block></value></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="D24eNhj[x$hLcxpmf5;4"><field name="VAR">password</field><value name="VALUE"><block type="text" id="5UFf?1]aI:AHf|l37LtY"><field name="TEXT"></field></block></value><next><block type="group_lcd_power" id="Z23S4-SvZa:}MlOP3g/j"><field name="VAR">mylcd</field><field name="STAT">clear</field><next><block type="group_lcd_print" id="!!+17$?F@u?n|,@{_V{j"><field name="VAR">mylcd</field><value name="TEXT"><shadow type="text" id="-KtK]~0y}s.GqTxme#0r"><field name="TEXT"></field></shadow><block type="text" id="/#B2s;mP_Un-U@;hIxuh"><field name="TEXT">error</field></block></value><value name="TEXT2"><shadow type="text" id="]_9CK=EyS;J2`jRqXm]y"><field name="TEXT"></field></shadow></value></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></xml><config>{"PSRAM":{"key":"disabled","label":"Disabled"},"PartitionScheme":{"key":"default","label":"Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)"},"CPUFreq":{"key":"240","label":"240MHz (WiFi/BT)"},"FlashMode":{"key":"qio","label":"QIO"},"FlashFreq":{"key":"80","label":"80MHz"},"FlashSize":{"key":"4M","label":"4MB (32Mb)"},"UploadSpeed":{"key":"921600","label":"921600"},"LoopCore":{"key":"1","label":"Core 1"},"EventsCore":{"key":"1","label":"Core 1"}}</config><code>CiNpbmNsdWRlIDxXaXJlLmg+CiNpbmNsdWRlIDxMaXF1aWRDcnlzdGFsX0kyQy5oPgojaW5jbHVkZSA8RVNQMzJfU2Vydm8uaD4KCkxpcXVpZENyeXN0YWxfSTJDIG15bGNkKDB4MjcsMTYsMik7CnZvbGF0aWxlIGJvb2xlYW4gYnRuZmxhZzsKdm9sYXRpbGUgYm9vbGVhbiBidG5WYWw7ClN0cmluZyBwYXNzd29yZDsKCiNpbmNsdWRlIDxXaXJlLmg+CiNpbmNsdWRlIDxNRlJDNTIyX0kyQy5oPgpNRlJDNTIyIG1mcmM1MjIoMHgyOCk7ClN0cmluZyByZmlkX3N0ciA9ICIiOwoKU3RyaW5nIHJldHVybl9yZmlkX2RhdGEoKQp7CiAgaWYgKCAhIG1mcmM1MjIuUElDQ19Jc05ld0NhcmRQcmVzZW50KCkgfHwgISBtZnJjNTIyLlBJQ0NfUmVhZENhcmRTZXJpYWwoKSApIHsKICAgIGRlbGF5KDUwKTsKICAgIHJldHVybiAiMCI7CiAgfQogIHJmaWRfc3RyID0gIiI7CiAgZm9yIChieXRlIGkgPSAwOyBpIDwgbWZyYzUyMi51aWQuc2l6ZTsgaSsrKSB7CiAgICByZmlkX3N0ciA9IHJmaWRfc3RyICsgU3RyaW5nKG1mcmM1MjIudWlkLnVpZEJ5dGVbaV0sSEVYKTsKICB9CiAgcmV0dXJuIHJmaWRfc3RyOwp9CgpTZXJ2byBzZXJ2b18xMzsKCnZvaWQgc2V0dXAoKXsKICBTZXJpYWwuYmVnaW4oOTYwMCk7CiAgV2lyZS5iZWdpbigpOwptZnJjNTIyLlBDRF9Jbml0KCk7CgogIFdpcmUuYmVnaW4oMjEsMjIpOwogIG15bGNkLmluaXQoKTsKICBteWxjZC5iYWNrbGlnaHQoKTsKICBzZXJ2b18xMy5hdHRhY2goMTMsNTAwLDI1MDApOwogIGJ0bmZsYWcgPSAwOwogIGJ0blZhbCA9IDA7CiAgcGFzc3dvcmQgPSAiIjsKICBteWxjZC5kaXNwbGF5KCk7CiAgbXlsY2QuY2xlYXIoKTsKICBteWxjZC5zZXRDdXJzb3IoMCwgMCk7CiAgbXlsY2QucHJpbnQoIkNhcmQiKTsKICBteWxjZC5zZXRDdXJzb3IoMCwgMSk7CiAgbXlsY2QucHJpbnQoIiIpOwogIHNlcnZvXzEzLndyaXRlKDApOwogIGRlbGF5KDEwMDApOwogIHBpbk1vZGUoNCwgSU5QVVQpOwp9Cgp2b2lkIGxvb3AoKXsKICBwYXNzd29yZCA9IHJldHVybl9yZmlkX2RhdGEoKTsKICBTZXJpYWwucHJpbnQoIiBDYXJkIFVJRDoiKTsKICBTZXJpYWwucHJpbnRsbihwYXNzd29yZCk7CiAgZGVsYXkoMTAwMCk7CiAgaWYgKGJ0bmZsYWcgPT0gMSkgewogICAgYnRuVmFsID0gZGlnaXRhbFJlYWQoNCk7CiAgICBpZiAoYnRuVmFsID09IDApIHsKICAgICAgbXlsY2QuY2xlYXIoKTsKICAgICAgbXlsY2Quc2V0Q3Vyc29yKDAsIDApOwogICAgICBteWxjZC5wcmludCgiY2xvc2UiKTsKICAgICAgbXlsY2Quc2V0Q3Vyc29yKDAsIDEpOwogICAgICBteWxjZC5wcmludCgiIik7CiAgICAgIHNlcnZvXzEzLndyaXRlKDApOwogICAgICBkZWxheSgxMDAwKTsKICAgICAgYnRuZmxhZyA9IDA7CgogICAgfQoKICB9CiAgaWYgKCEocGFzc3dvcmQgPT0gIiIpKSB7CiAgICBpZiAocGFzc3dvcmQgPT0gImQ5NjNkM2IzIikgewogICAgICBteWxjZC5jbGVhcigpOwogICAgICBteWxjZC5zZXRDdXJzb3IoMCwgMCk7CiAgICAgIG15bGNkLnByaW50KCJvcGVuIik7CiAgICAgIG15bGNkLnNldEN1cnNvcigwLCAxKTsKICAgICAgbXlsY2QucHJpbnQoIiIpOwogICAgICBzZXJ2b18xMy53cml0ZSgxNzApOwogICAgICBkZWxheSgxMDAwKTsKICAgICAgcGFzc3dvcmQgPSAiIjsKICAgICAgYnRuZmxhZyA9IDE7CgogICAgfSBlbHNlIHsKICAgICAgcGFzc3dvcmQgPSAiIjsKICAgICAgbXlsY2QuY2xlYXIoKTsKICAgICAgbXlsY2Quc2V0Q3Vyc29yKDAsIDApOwogICAgICBteWxjZC5wcmludCgiZXJyb3IiKTsKICAgICAgbXlsY2Quc2V0Q3Vyc29yKDAsIDEpOwogICAgICBteWxjZC5wcmludCgiIik7CgogICAgfQoKICB9Cgp9</code>