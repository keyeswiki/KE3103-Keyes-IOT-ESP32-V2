<xml version="Mixly 2.0 rc4" board="Arduino ESP32@ESP32 Dev Module"><block type="base_setup" id="EC;5$YMW0AyV#f4:4RJw" x="9" y="-3"><statement name="DO"><block type="serial_begin" id="a/QGc/_,vULij:Y@Qm-P"><field name="serial_select">Serial</field><value name="CONTENT"><shadow type="math_number" id="2+Do/}rVCGl?gI5,sAwB"><field name="NUM">9600</field></shadow></value><next><block type="variables_declare" id="xcNcU.;(nZF8Smy@}|n!"><field name="variables_type">global_variate</field><field name="VAR">btn_count</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="}F_)fISHmvOkV{iF}Ox^"><field name="NUM">0</field></block></value><next><block type="variables_declare" id=":+qd(vB]Y]}_w};#OL6^"><field name="variables_type">global_variate</field><field name="VAR">btn_val</field><field name="TYPE">boolean</field><value name="VALUE"><block type="math_number" id="wsehQ9`V-9|f=L+Bw]@)"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="`b8Gvg;z6Eh{*@6uLBGV"><field name="variables_type">global_variate</field><field name="VAR">music_flag</field><field name="TYPE">boolean</field><value name="VALUE"><block type="math_number" id=")9~ED-SVpSuN+-Z8$Az/"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="Lisji)Epo$TZ`*owVc9m"><field name="variables_type">global_variate</field><field name="VAR">btn_state</field><field name="TYPE">boolean</field><value name="VALUE"><block type="math_number" id="nGXXS#(JIZv080=:g1T1"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="variables_set" id="z_|lMxt0vlFKyl=I(Qgd" x="10" y="212"><field name="VAR">btn_val</field><value name="VALUE"><block type="ke_button" id="m,YD]f.)?H97:,JQKMt="><value name="PIN"><shadow type="pins_digital" id="`VKWDw.{DXMsY-ertx/|"><field name="PIN">4</field></shadow></value></block></value><next><block type="controls_if" id="-Mu,u,6D:{#Id=VFOSG@"><value name="IF0"><block type="logic_compare" id="VIY/t^XDy)0A0,n-bNuE"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="*~pvZhuuEq#QG[To3hB2"><field name="VAR">btn_val</field></block></value><value name="B"><block type="math_number" id="qd]PQ:|s1s#DA0Z/eB*n"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="controls_delay" id="X{4~m-fS0NL^*SsTa*wL"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="#pelDg`7bUhwz|8jnl{#"><field name="NUM">10</field></shadow></value><next><block type="controls_if" id="Shj=YPq)8{ABWHlk0B:5"><value name="IF0"><block type="logic_compare" id="0#L=Eckzu)Dvm@UI5~kv"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="ZKSA?EXKw`pwn1}!TwtC"><field name="VAR">btn_val</field></block></value><value name="B"><block type="math_number" id="B,ctAd6Dbj:Y~,M]~xj["><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="|rSdNyzC)cc/*yTfz/1O"><field name="VAR">btn_state</field><value name="VALUE"><block type="math_number" id="JPK9V^[N*JrgLw(EqJ{w"><field name="NUM">1</field></block></value><next><block type="controls_whileUntil" id="ye3;ZGSXlWW)cb;(iiuS"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="C?.uOl5H0/#=pK[eR{7u"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="kz}I=RH=6MiGyoo(1A6-"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="Kw3hr3c(9lyqg?nAcfN)"><field name="VAR">btn_state</field></block></value><value name="B"><block type="math_number" id="A^b@2]N,3wbM;c1K/Z$b"><field name="NUM">1</field></block></value></block></value><statement name="DO"><block type="variables_set" id="ro2io:}VvHggbAmA]k0L"><field name="VAR">btn_val</field><value name="VALUE"><block type="ke_button" id=")LY.Q|0+Kyt;Cx`!eb]l"><value name="PIN"><shadow type="pins_digital" id="MsbfAtF:`cUl9W*GjyuL"><field name="PIN">4</field></shadow></value></block></value><next><block type="controls_if" id="$_y184C54j/PL[[j]ucg"><value name="IF0"><block type="logic_compare" id="}q9LL,j]KT#pBwot?pNg"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="@__AduT#{~QXqmwt,Jhk"><field name="VAR">btn_val</field></block></value><value name="B"><block type="math_number" id="zGePsQFVI-/_zV*fK_s:"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="}IA:9vc3IS#P`uc3pSCr"><field name="VAR">music_flag</field><value name="VALUE"><block type="math_number" id="_v;KXCY__]~Fp*9==fg("><field name="NUM">1</field></block></value><next><block type="math_auto_add_or_minus" id="@?blW(wtk!dL_VK59hu+"><field name="math_auto_add_minus_type">++</field><value name="math_auto_add_minus_output"><shadow type="variables_get" id="x`Kv0:_3dR=E`Ankte+*"><field name="VAR">item</field></shadow><block type="variables_get" id="?~UH#V~~U@BThtUo{#UU"><field name="VAR">btn_count</field></block></value><next><block type="serial_print" id="CmAS]VUz[u1XVum#x1M+"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="variables_get" id="EPhCMfX7s]hO~9qFF1S6"><field name="VAR">btn_count</field></block></value><next><block type="controls_if" id="7k!A3;d6@s.ig(e`NN}7"><value name="IF0"><block type="logic_compare" id=":(k.C^l3{vc:_FPQEGSN"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="P;dCURTj.xJPIXzpR0#3"><field name="VAR">btn_count</field></block></value><value name="B"><block type="math_number" id="97gR|limK,`#WW9tu^}h"><field name="NUM">4</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="gM32)a*9yR6B~(eLz@^8"><field name="VAR">btn_count</field><value name="VALUE"><block type="math_number" id="*GzuW-2*WDF(;z4Q;7Sa"><field name="NUM">1</field></block></value></block></statement><next><block type="controls_switch_case" id="uA]Q3YUdW(#:v.g.,Q68"><mutation elseif="3"></mutation><value name="IF0"><block type="variables_get" id="ag79KQrd*aVA,HB$*F6~"><field name="VAR">btn_count</field></block></value><value name="IF1"><block type="math_number" id="lT?!.G_FmrckNkNogl]$"><field name="NUM">1</field></block></value><statement name="DO1"><block type="controls_if" id="~s]3tHjeph^E(00@CP6k"><value name="IF0"><block type="logic_compare" id="em/Z[(twH0n{$I0`gQqe"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="(SXsz:;]~0p;@@.6Q}_!"><field name="VAR">music_flag</field></block></value><value name="B"><block type="math_number" id="`}So.boxTp=|yce~!d_i"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="ke_music" id="gSahV?XQ+n(NM$0!g+c3"><field name="play">Music.Ode_to_Joy();</field><value name="PIN"><shadow type="pins_digital" id="4mV4,#TWl0]H1hz?a_00"><field name="PIN">25</field></shadow></value><next><block type="variables_set" id="qxaRNHh*Ycg?..wbfAhZ"><field name="VAR">music_flag</field><value name="VALUE"><block type="math_number" id="d8U*cPvc_$dP!7f/vSe4"><field name="NUM">0</field></block></value></block></next></block></statement></block></statement><value name="IF2"><block type="math_number" id="zJ9P[s,|hQk,b/-F=#tK"><field name="NUM">2</field></block></value><statement name="DO2"><block type="controls_if" id="QgU!X}^DgiKuZd^pQfNP"><value name="IF0"><block type="logic_compare" id="GfKM2_*mnodBkRDEHp-}"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="1]pO9ckGnWjd06mvj~Tq"><field name="VAR">music_flag</field></block></value><value name="B"><block type="math_number" id=":b3)ahi-FR!I$i{AT29`"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="ke_music" id="yG7~ca=Cv8E=PG]E]^fT"><field name="play">Music.christmas();</field><value name="PIN"><shadow type="pins_digital" id="_9T~_+iW9P2sf{XWV@UW"><field name="PIN">25</field></shadow></value><next><block type="variables_set" id="X*Bz6Ytqs+_R?Jvdjp6k"><field name="VAR">music_flag</field><value name="VALUE"><block type="math_number" id=":C}k!TcYmen#]PE+j*AD"><field name="NUM">0</field></block></value></block></next></block></statement></block></statement><value name="IF3"><block type="math_number" id="p0L1~ZWR`.E;ZgT?Uf8]"><field name="NUM">3</field></block></value><statement name="DO3"><block type="controls_if" id="LkGFEm9~XcL[yfnQDetd"><value name="IF0"><block type="logic_compare" id="@s04kq[~Ot*L?CQv9YwD"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="#W~|Vp2.h@gP4LnefUbN"><field name="VAR">music_flag</field></block></value><value name="B"><block type="math_number" id="SYj^hWC,Q$S/|yN$Z__g"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="ke_music" id="^FXmEG2!YXiY-VnW}B9="><field name="play">Music.tetris();</field><value name="PIN"><shadow type="pins_digital" id="~9R#2q==kYpIbN;6ZQZy"><field name="PIN">25</field></shadow></value><next><block type="variables_set" id="(5KiY#Ji1L69{.,6(DoT"><field name="VAR">music_flag</field><value name="VALUE"><block type="math_number" id=":pl^6!QLWuq]?r:C9~Aj"><field name="NUM">0</field></block></value></block></next></block></statement></block></statement><next><block type="variables_set" id="1sB+2IDO}rM:05emxWY*"><field name="VAR">btn_state</field><value name="VALUE"><block type="math_number" id="!jF=TZJj))wH]e1AUgHa"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></statement></block></next></block></statement></block></next></block></xml><config>{"PSRAM":{"key":"disabled","label":"Disabled"},"PartitionScheme":{"key":"default","label":"Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)"},"CPUFreq":{"key":"240","label":"240MHz (WiFi/BT)"},"FlashMode":{"key":"qio","label":"QIO"},"FlashFreq":{"key":"80","label":"80MHz"},"FlashSize":{"key":"4M","label":"4MB (32Mb)"},"UploadSpeed":{"key":"921600","label":"921600"},"LoopCore":{"key":"1","label":"Core 1"},"EventsCore":{"key":"1","label":"Core 1"}}</config><code>CiNpbmNsdWRlIDxFU1AzMlRvbmUuaD4KI2luY2x1ZGUgPG11c2ljRVNQMzIuaD4KCnZvbGF0aWxlIGludCBidG5fY291bnQ7CnZvbGF0aWxlIGJvb2xlYW4gYnRuX3ZhbDsKdm9sYXRpbGUgYm9vbGVhbiBtdXNpY19mbGFnOwp2b2xhdGlsZSBib29sZWFuIGJ0bl9zdGF0ZTsKCm11c2ljIE11c2ljKDI1KTsKCnZvaWQgc2V0dXAoKXsKICBTZXJpYWwuYmVnaW4oOTYwMCk7CiAgYnRuX2NvdW50ID0gMDsKICBidG5fdmFsID0gMDsKICBtdXNpY19mbGFnID0gMDsKICBidG5fc3RhdGUgPSAwOwogIHBpbk1vZGUoNCwgSU5QVVQpOwogIHBpbk1vZGUoMjUsIE9VVFBVVCk7Cgp9Cgp2b2lkIGxvb3AoKXsKICBidG5fdmFsID0gZGlnaXRhbFJlYWQoNCk7CiAgaWYgKGJ0bl92YWwgPT0gMCkgewogICAgZGVsYXkoMTApOwogICAgaWYgKGJ0bl92YWwgPT0gMCkgewogICAgICBidG5fc3RhdGUgPSAxOwogICAgICB3aGlsZSAoYnRuX3N0YXRlID09IDEpIHsKICAgICAgICBidG5fdmFsID0gZGlnaXRhbFJlYWQoNCk7CiAgICAgICAgaWYgKGJ0bl92YWwgPT0gMSkgewogICAgICAgICAgbXVzaWNfZmxhZyA9IDE7CiAgICAgICAgICBidG5fY291bnQrKzsKICAgICAgICAgIFNlcmlhbC5wcmludGxuKGJ0bl9jb3VudCk7CiAgICAgICAgICBpZiAoYnRuX2NvdW50ID09IDQpIHsKICAgICAgICAgICAgYnRuX2NvdW50ID0gMTsKCiAgICAgICAgICB9CiAgICAgICAgICBzd2l0Y2ggKGJ0bl9jb3VudCkgewogICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgaWYgKG11c2ljX2ZsYWcgPT0gMSkgewogICAgICAgICAgICAgIE11c2ljLk9kZV90b19Kb3koKTsKICAgICAgICAgICAgICBtdXNpY19mbGFnID0gMDsKCiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBpZiAobXVzaWNfZmxhZyA9PSAxKSB7CiAgICAgICAgICAgICAgTXVzaWMuY2hyaXN0bWFzKCk7CiAgICAgICAgICAgICAgbXVzaWNfZmxhZyA9IDA7CgogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgaWYgKG11c2ljX2ZsYWcgPT0gMSkgewogICAgICAgICAgICAgIE11c2ljLnRldHJpcygpOwogICAgICAgICAgICAgIG11c2ljX2ZsYWcgPSAwOwoKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIGJ0bl9zdGF0ZSA9IDA7CgogICAgICAgIH0KICAgICAgfQoKICAgIH0KCiAgfQoKfQ==</code>